<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
	xmlns:c="http://www.springframework.org/schema/c"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"

	default-lazy-init="true">

	<!-- можно initObject и destroyObject вызывать вручную добавив в корень 
		бина default-init-method, default-destroy-method -->
	<!-- можно обьявлять и в классе имплементируя методы InitializingBean, -->
	<!-- DisposableBean тогда они будут доступны только для этого класса -->

	<!-- инициализация построцессора бинов с помощью безимянного бина -->
	<bean class="ua.maventraing.compareoop.main.BeanPostProc" />




	<!-- depends-on="databaseBean" показывает, что перед инициализацией бина 
		в котором вызван, необходимо вызвать указанный бин -->

	<!-- <bean id="t1000" class="ua.maventraing.compareoop.robot.ModelT1000" -->
	<!-- p:head-ref="sonyHead" p:hand-ref="sonyHand" p:leg-ref="toshibaLeg" -->
	<!-- p:color="silver" p:soundEnabled="true" p:year="2010" lazy-init="true"> -->

	<!-- <constructor-arg ref="sonyHead"></constructor-arg> -->
	<!-- <constructor-arg ref="sonyHand"></constructor-arg> -->
	<!-- <constructor-arg ref="sonyLeg"></constructor-arg> -->



	<!-- вызов конструктора и определение родительского конструктора -->
	<bean id="t1000" class="ua.maventraing.compareoop.robot.ModelT1000"
		parent="baseModel" scope="prototype">
		<constructor-arg value="red" />
		<constructor-arg value="2012" />
		<constructor-arg value="false" />

	<!-- переопределение свойства -->
<!-- 		<property name="head" ref="toshibaHead"></property> -->
		<property name="hand" ref="toshibaHand"></property>
		<!-- <property name="leg" ref="toshibaLeg"></property> -->
		
	<!-- переопределение метода (replased-method)
	     dependency ((CGLIB)) -->	
<!-- 	<replaced-method name="fire" replacer="actionReplaser"/>	 -->
	</bean>



	<bean id="baseModel" abstract="true">
		<constructor-arg ref="sonyHead" />
		<constructor-arg ref="sonyHand" />
		<constructor-arg ref="toshibaLeg" />
	</bean>


<!--бин для переопределение метода (replased-method)
    ((dependency CGLIB)) -->
<bean id="actionReplaser" class="ua.maventraing.compareoop.actions.ActionReplaser"/>


	<bean id="t1000Empty" class="ua.maventraing.compareoop.robot.ModelT1000"
		c:color="silver" c:year="2000" c:soundEnabled="false" c:head-ref="sonyHead"
		c:hand-ref="toshibaHand" c:leg-ref="toshibaLeg" lazy-init="true">
		<!-- init-method="initObject" -->
		<!-- destroy-method="destroyObject"> -->
	</bean>
	
	
	
	
	

	<bean id="sonyHead" class="ua.maventraing.compareoop.spares.sonyspares.SonyHead" />
	<bean id="sonyHand" class="ua.maventraing.compareoop.spares.sonyspares.SonyHand" />
	<bean id="sonyLeg" class="ua.maventraing.compareoop.spares.sonyspares.SonyLeg" />

	<bean id="toshibaHead" class="ua.maventraing.compareoop.spares.toshibaspares.ToshibaHead" />
	<bean id="toshibaHand" class="ua.maventraing.compareoop.spares.toshibaspares.ToshibaHand" />
	<bean id="toshibaLeg" class="ua.maventraing.compareoop.spares.toshibaspares.ToshibaLeg" />
		
		
</beans>
